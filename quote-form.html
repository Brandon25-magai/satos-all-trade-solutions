<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Quote - Sato's All Trade Solutions</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Existing styles remain the same */

        /* New pricing styles */
        .pricing-info {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 20px;
            margin-top: 25px;
            border-left: 4px solid var(--secondary);
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        
        .pricing-info h4 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .price-range {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            padding: 8px 12px;
            background: rgba(248, 249, 250, 0.8);
            border-radius: 8px;
        }
        
        .price-label {
            font-weight: 600;
            color: var(--dark);
        }
        
        .price-amount {
            font-weight: 700;
            color: var(--primary);
        }
        
        .discount-badge {
            background: var(--secondary);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.85rem;
            margin-left: 10px;
        }
        
        .location-toggle {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .location-btn {
            flex: 1;
            text-align: center;
            padding: 12px;
            background: rgba(248, 249, 250, 0.8);
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid #ddd;
            transition: var(--transition);
            font-weight: 600;
        }
        
        .location-btn.selected {
            border-color: var(--primary);
            background: rgba(10, 74, 111, 0.1);
            box-shadow: 0 3px 10px rgba(10,74,111,0.1);
        }
        
        .estimate-display {
            background: var(--primary);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }
        
        .estimate-price {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 10px 0;
            color: var(--gold);
        }
        
        .service-duration {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        .duration-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
        }
        
        .duration-label {
            font-weight: 600;
            white-space: nowrap;
        }
    </style>
</head>
<body>
    <!-- Professional Header Banner -->
    <div class="header-banner">
        <div class="header-container">
            <div class="logo-container">
                <div class="logo">
                    <img src="https://via.placeholder.com/150/0a4a6f/ffffff?text=S" alt="Sato's All Trade Solutions">
                </div>
                <div class="logo-text">
                    <h1>Sato's All Trade Solutions</h1>
                    <p>Handyman & Auto Repair Experts</p>
                </div>
            </div>
            
            <nav>
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="quote-form.html" class="active"><i class="fas fa-file-invoice-dollar"></i> Get Quote</a></li>
                    <li><a href="service-area.html"><i class="fas fa-map-marker-alt"></i> Service Areas</a></li>
                    <li><a href="tel:6086360095" class="emergency-link"><i class="fas fa-phone-alt"></i> Emergency</a></li>
                </ul>
            </nav>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="quote-hero">
        <div class="hero-content">
            <h1>Get a Free Quote</h1>
            <p>Quality Service at Competitive Prices</p>
        </div>
    </section>

    <!-- Quote Form Section -->
    <section class="quote-section">
        <div class="section-container">
            <div class="section-title">
                <h2>Request a Quote</h2>
                <p class="tagline">We'll get back to you within 24 hours</p>
            </div>
            
            <div class="form-container">
                <div class="form-column">
                    <form id="quoteForm" action="https://formspree.io/f/mrbkvbzb" method="POST">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName">First Name *</label>
                                <input type="text" id="firstName" name="firstName" required>
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name *</label>
                                <input type="text" id="lastName" name="lastName" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">Email *</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone *</label>
                                <input type="tel" id="phone" name="phone" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="address">Address *</label>
                            <input type="text" id="address" name="address" required>
                        </div>
                        
                        <!-- Location Selection -->
                        <div class="form-group">
                            <label>Service Area *</label>
                            <div class="location-toggle">
                                <div class="location-btn" data-location="lena">Lena, IL Area</div>
                                <div class="location-btn" data-location="madison">Madison, WI Area</div>
                            </div>
                            <input type="hidden" id="serviceLocation" name="serviceLocation" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="serviceType">Service Type *</label>
                            <div class="service-type">
                                <div class="service-card" data-service="handyman">
                                    <i class="fas fa-tools"></i>
                                    <h4>Handyman Services</h4>
                                </div>
                                <div class="service-card" data-service="auto">
                                    <i class="fas fa-car-alt"></i>
                                    <h4>Auto Repair</h4>
                                </div>
                            </div>
                            <input type="hidden" id="serviceType" name="serviceType" required>
                        </div>
                        
                        <!-- Service Duration -->
                        <div class="form-group">
                            <label>Estimated Service Duration</label>
                            <div class="service-duration">
                                <span class="duration-label">Hours:</span>
                                <input type="number" id="serviceHours" name="serviceHours" min="1" max="8" value="1" class="duration-input">
                                <span class="duration-label">Minutes:</span>
                                <input type="number" id="serviceMinutes" name="serviceMinutes" min="0" max="59" value="0" class="duration-input">
                            </div>
                        </div>
                        
                        <!-- Pricing Information -->
                        <div class="pricing-info">
                            <h4><i class="fas fa-tag"></i> Transparent Pricing</h4>
                            
                            <div id="lenaPricing" style="display:none;">
                                <div class="price-range">
                                    <span class="price-label">Standard Handyman Rate:</span>
                                    <span class="price-amount">$45 - $65/hour</span>
                                </div>
                                <div class="price-range">
                                    <span class="price-label">Auto Repair Rate:</span>
                                    <span class="price-amount">$50 - $75/hour</span>
                                </div>
                                <div class="price-range">
                                    <span class="price-label">Minimum Charge:</span>
                                    <span class="price-amount">$75</span>
                                </div>
                                <div class="price-range">
                                    <span class="price-label">New Customer Discount:</span>
                                    <span class="price-amount">10% OFF <span class="discount-badge">Applied</span></span>
                                </div>
                            </div>
                            
                            <div id="madisonPricing" style="display:none;">
                                <div class="price-range">
                                    <span class="price-label">Standard Handyman Rate:</span>
                                    <span class="price-amount">$60 - $85/hour</span>
                                </div>
                                <div class="price-range">
                                    <span class="price-label">Auto Repair Rate:</span>
                                    <span class="price-amount">$70 - $95/hour</span>
                                </div>
                                <div class="price-range">
                                    <span class="price-label">Minimum Charge:</span>
                                    <span class="price-amount">$100</span>
                                </div>
                                <div class="price-range">
                                    <span class="price-label">Off-Peak Discount (Weekdays before 3 PM):</span>
                                    <span class="price-amount">15% OFF</span>
                                </div>
                            </div>
                            
                            <div class="estimate-display" id="priceEstimate">
                                <p>Estimated Price Range:</p>
                                <div class="estimate-price" id="estimatedPrice">$0.00</div>
                                <p><small>Includes discounts. Final quote may vary based on project details.</small></p>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="projectDetails">Project Details *</label>
                            <textarea id="projectDetails" name="projectDetails" required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <div class="form-row">
                                <div>
                                    <input type="checkbox" id="newCustomer" name="newCustomer" checked>
                                    <label for="newCustomer">I'm a new customer (10% discount)</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="offPeak" name="offPeak">
                                    <label for="offPeak">I can schedule during off-peak hours (15% discount)</label>
                                </div>
                            </div>
                        </div>
                        
                        <button type="submit" class="submit-btn">
                            <i class="fas fa-paper-plane"></i> Submit Request
                        </button>
                        
                        <div class="form-status" id="formStatus"></div>
                    </form>
                    
                    <div class="emergency-banner">
                        <h4><i class="fas fa-exclamation-triangle"></i> Emergency Service Needed?</h4>
                        <p>Call us immediately for urgent assistance</p>
                        <a href="tel:6086360095">(608) 636-0095</a>
                    </div>
                </div>
                
                <div class="form-column">
                    <div class="form-info">
                        <h3>Why Get a Quote?</h3>
                        <p>Getting a quote is the first step towards solving your repair needs. We provide transparent pricing and detailed service plans.</p>
                        
                        <ul>
                            <li>Transparent pricing with no hidden fees</li>
                            <li>Free estimates for all services</li>
                            <li>Priority scheduling for quote recipients</li>
                            <li>Expert consultation included</li>
                            <li>Response within 24 hours</li>
                            <li>Geographically-based fair pricing</li>
                            <li>First-time customer discounts</li>
                            <li>Off-peak hour savings</li>
                        </ul>
                        
                        <p>Our team will contact you to discuss your project details and provide a comprehensive quote tailored to your specific needs.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-bg">
            <img src="https://via.placeholder.com/500/0a4a6f/ffffff?text=SATO%27S" alt="Sato's Logo Background">
        </div>
        
        <div class="footer-content">
            <div class="footer-logo-column">
                <div class="footer-logo">
                    <img src="https://via.placeholder.com/150/0a4a6f/ffffff?text=S" alt="Sato's All Trade Solutions">
                </div>
                <div class="slogan">Precision, Care, and Expertise in Every Repair</div>
                <div class="tagline">From Homes to Wheels, We Fix It All with Precision and Care</div>
            </div>
            
            <div class="contact-info">
                <h3>Contact Us</h3>
                <p><i class="fas fa-phone"></i> <a href="tel:6086360095">(608) 636-0095</a></p>
                <p><i class="fas fa-envelope"></i> <a href="mailto:Brandon@satosalltradesolutions.com">Brandon@satosalltradesolutions.com</a></p>
                <p><i class="fas fa-clock"></i> 24/7 Emergency Service</p>
                
                <div class="footer-emergency">
                    <i class="fas fa-phone-alt"></i>
                    <a href="tel:6086360095">Emergency: (608) 636-0095</a>
                </div>
            </div>
            
            <div class="service-areas">
                <h3>Service Areas</h3>
                <div class="area-badge">Serving Northwest Illinois & Southern Wisconsin</div>
                <p class="tagline" style="margin-top: 25px; color: var(--gold);">Reliable Repairs for Your Home Haven and Journey</p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 Sato's All Trade Solutions LLC. All Rights Reserved.</p>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-google"></i></a>
            </div>
        </div>
    </footer>

    <script>
        // Initialize service type selection
        document.addEventListener('DOMContentLoaded', function() {
            const serviceCards = document.querySelectorAll('.service-card');
            const serviceTypeInput = document.getElementById('serviceType');
            const locationButtons = document.querySelectorAll('.location-btn');
            const serviceLocationInput = document.getElementById('serviceLocation');
            const lenaPricing = document.getElementById('lenaPricing');
            const madisonPricing = document.getElementById('madisonPricing');
            const priceEstimate = document.getElementById('priceEstimate');
            const estimatedPrice = document.getElementById('estimatedPrice');
            const serviceHours = document.getElementById('serviceHours');
            const serviceMinutes = document.getElementById('serviceMinutes');
            const newCustomerCheckbox = document.getElementById('newCustomer');
            const offPeakCheckbox = document.getElementById('offPeak');
            
            // Pricing data structure
            const pricingData = {
                lena: {
                    handyman: { min: 45, max: 65, minCharge: 75 },
                    auto: { min: 50, max: 75, minCharge: 75 }
                },
                madison: {
                    handyman: { min: 60, max: 85, minCharge: 100 },
                    auto: { min: 70, max: 95, minCharge: 100 }
                }
            };
            
            // Service type selection
            serviceCards.forEach(card => {
                card.addEventListener('click', function() {
                    // Remove selected class from all cards
                    serviceCards.forEach(c => c.classList.remove('selected'));
                    
                    // Add selected class to clicked card
                    this.classList.add('selected');
                    
                    // Update hidden input value
                    serviceTypeInput.value = this.getAttribute('data-service');
                    
                    // Update price estimate
                    updatePriceEstimate();
                });
            });
            
            // Location selection
            locationButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove selected class from all buttons
                    locationButtons.forEach(b => b.classList.remove('selected'));
                    
                    // Add selected class to clicked button
                    this.classList.add('selected');
                    
                    // Update hidden input value
                    serviceLocationInput.value = this.getAttribute('data-location');
                    
                    // Show appropriate pricing
                    if (serviceLocationInput.value === 'lena') {
                        lenaPricing.style.display = 'block';
                        madisonPricing.style.display = 'none';
                    } else if (serviceLocationInput.value === 'madison') {
                        madisonPricing.style.display = 'block';
                        lenaPricing.style.display = 'none';
                    }
                    
                    // Update price estimate
                    updatePriceEstimate();
                });
            });
            
            // Update price when inputs change
            serviceHours.addEventListener('input', updatePriceEstimate);
            serviceMinutes.addEventListener('input', updatePriceEstimate);
            newCustomerCheckbox.addEventListener('change', updatePriceEstimate);
            offPeakCheckbox.addEventListener('change', updatePriceEstimate);
            
            // Calculate and display price estimate
            function updatePriceEstimate() {
                const location = serviceLocationInput.value;
                const serviceType = serviceTypeInput.value;
                const hours = parseFloat(serviceHours.value) || 0;
                const minutes = parseFloat(serviceMinutes.value) || 0;
                const totalHours = hours + (minutes / 60);
                
                if (!location || !serviceType || totalHours <= 0) {
                    priceEstimate.style.display = 'none';
                    return;
                }
                
                const pricing = pricingData[location][serviceType];
                let minPrice = pricing.min * totalHours;
                let maxPrice = pricing.max * totalHours;
                
                // Apply discounts
                let discount = 0;
                if (newCustomerCheckbox.checked) discount += 0.10;
                if (offPeakCheckbox.checked) discount += 0.15;
                
                minPrice *= (1 - discount);
                maxPrice *= (1 - discount);
                
                // Apply minimum charge
                if (minPrice < pricing.minCharge) minPrice = pricing.minCharge;
                if (maxPrice < pricing.minCharge) maxPrice = pricing.minCharge;
                
                // Format and display
                estimatedPrice.textContent = `$${minPrice.toFixed(2)} - $${maxPrice.toFixed(2)}`;
                priceEstimate.style.display = 'block';
            }
            
            // Formspree Form Handling
            const quoteForm = document.getElementById('quoteForm');
            const formStatus = document.getElementById('formStatus');
            
            quoteForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate service type selection
                if (!serviceTypeInput.value) {
                    formStatus.textContent = "Please select a service type";
                    formStatus.className = "form-status error";
                    formStatus.style.display = "block";
                    return;
                }
                
                // Validate location selection
                if (!serviceLocationInput.value) {
                    formStatus.textContent = "Please select your service area";
                    formStatus.className = "form-status error";
                    formStatus.style.display = "block";
                    return;
                }
                
                // Show loading state
                formStatus.textContent = "Sending your request...";
                formStatus.className = "form-status";
                formStatus.style.display = "block";
                
                // Get form data
                const formData = new FormData(quoteForm);
                
                // Add calculated price estimate to form data
                const priceRange = estimatedPrice.textContent;
                if (priceRange) formData.append('estimatedPrice', priceRange);
                
                // Send form data to Formspree
                fetch(quoteForm.action, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                })
                .then(response => {
                    if (response.ok) {
                        formStatus.textContent = "Thank you! Your request has been submitted successfully. We'll contact you within 24 hours.";
                        formStatus.className = "form-status success";
                        quoteForm.reset();
                        serviceCards.forEach(c => c.classList.remove('selected'));
                        locationButtons.forEach(b => b.classList.remove('selected'));
                        serviceLocationInput.value = '';
                        priceEstimate.style.display = 'none';
                        lenaPricing.style.display = 'none';
                        madisonPricing.style.display = 'none';
                    } else {
                        throw new Error('Form submission failed');
                    }
                })
                .catch(error => {
                    formStatus.textContent = "Oops! There was a problem submitting your request. Please try again or call us directly.";
                    formStatus.className = "form-status error";
                });
            });
            
            // Add current year to footer
            const currentYear = new Date().getFullYear();
            document.querySelector('.footer-bottom p').innerHTML = `&copy; ${currentYear} Sato's All Trade Solutions LLC. All Rights Reserved.`;
        });
    </script>
</body>
</html>
